<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>How to install brms and dependecies • learnB4SS</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="How to install brms and dependecies">
<meta property="og:description" content="learnB4SS">
<meta property="og:image" content="https://stefanocoretta.github.io/bayes.handson/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">learnB4SS</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/install-brms.html">How to install brms and dependecies</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/learnB4SS/learnB4SS/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="install-brms_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>How to install brms and dependecies</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/learnB4SS/learnB4SS/blob/master/vignettes/install-brms.Rmd"><code>vignettes/install-brms.Rmd</code></a></small>
      <div class="hidden name"><code>install-brms.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>When you fit a model with brms, the package calls <a href="https://mc-stan.org/users/interfaces/rstan">Rstan</a> which is an R interface to the statistical programming language <a href="https://mc-stan.org">Stan</a>.</p>
<p>The nice thing about brms is that it uses a syntax for specifying model formulae that is based on the syntax of the commonly known lme4 package. The lme4-like syntax of brms is converted into Stan code automatically, so you won’t have to learn Stan.<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a></p>
<p>Stan is built in the programming language C++ and models have to be compiled using C++ to be run. This is all taken care of by brms, so you just need to run <code>brm(...)</code> and brms will do its magic.</p>
<p>However, since the models have to be compiled in C++, you need to set up your computer so that it can use C++. This has to be done only once, before installing brms, and the procedure depends on your operating system.</p>
<p>The following sections explain, for different OSs, how to:</p>
<ol style="list-style-type: decimal">
<li>Configure the C++ toolchain.</li>
<li>Install Rstan (and Stan).</li>
<li>Install brms.</li>
</ol>
<p>We <strong>strongly</strong> recommend you to update R to 4.x and RStudio to the latest release. This combo will ensure a smoother installation process and use.</p>
</div>
<div id="macos" class="section level1">
<h1 class="hasAnchor">
<a href="#macos" class="anchor"></a>macOS</h1>
<div id="configure-the-c-toolchain" class="section level2">
<h2 class="hasAnchor">
<a href="#configure-the-c-toolchain" class="anchor"></a>Configure the C++ toolchain</h2>
<p>To configure the C++ toolchain, see: <a href="https://github.com/stan-dev/rstan/wiki/Configuring-C---Toolchain-for-Mac" class="uri">https://github.com/stan-dev/rstan/wiki/Configuring-C---Toolchain-for-Mac</a>.</p>
</div>
<div id="install-rstan" class="section level2">
<h2 class="hasAnchor">
<a href="#install-rstan" class="anchor"></a>Install Rstan</h2>
<p>Just in case you previously tried to install Rstan without success, run the following code to clean installations and configuration files.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/remove.packages.html">remove.packages</a></span><span class="op">(</span><span class="st">"rstan"</span><span class="op">)</span>
<span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/files.html">file.exists</a></span><span class="op">(</span><span class="st">".RData"</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/files.html">file.remove</a></span><span class="op">(</span><span class="st">".RData"</span><span class="op">)</span></code></pre></div>
<p>Restart R.</p>
<p><strong>If you are using R 3.x</strong>, you need to build Rstan from source. You can do that by following the instructions at this address: <a href="https://github.com/stan-dev/rstan/wiki/Installing-RStan-from-Source#mac" class="uri">https://github.com/stan-dev/rstan/wiki/Installing-RStan-from-Source#mac</a>.</p>
<p><strong>If you are using R 4.x (recommended)</strong>, just run:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"rstan"</span>, repos <span class="op">=</span> <span class="st">"https://cloud.r-project.org/"</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p>Now, verify the installation by running:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/example.html">example</a></span><span class="op">(</span><span class="va">stan_model</span>, package <span class="op">=</span> <span class="st">"rstan"</span>, run.dontrun <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p>If the model compiles and starts sampling, you are set. In case you get the following warning, it is safe to ignore it.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Warning message:</span>
<span class="co"># In system(paste(CXX, ARGS), ignore.stdout = TRUE, ignore.stderr = TRUE) :</span>
<span class="co">#  'C:/rtools40/usr/mingw_/bin/g++' not found</span></code></pre></div>
</div>
<div id="install-brms" class="section level2">
<h2 class="hasAnchor">
<a href="#install-brms" class="anchor"></a>Install brms</h2>
<p>Install brms from CRAN simply with:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"brms"</span><span class="op">)</span></code></pre></div>
<p>The end.</p>
</div>
</div>
<div id="windows" class="section level1">
<h1 class="hasAnchor">
<a href="#windows" class="anchor"></a>Windows</h1>
<div id="configure-the-c-toolchain-1" class="section level2">
<h2 class="hasAnchor">
<a href="#configure-the-c-toolchain-1" class="anchor"></a>Configure the C++ toolchain</h2>
<p>To configure the C++ toolchain, follow the instructions here for you R version (3.6 or 4.0): <a href="https://github.com/stan-dev/rstan/wiki/Configuring-C---Toolchain-for-Windows" class="uri">https://github.com/stan-dev/rstan/wiki/Configuring-C---Toolchain-for-Windows</a>.</p>
</div>
<div id="install-rstan-1" class="section level2">
<h2 class="hasAnchor">
<a href="#install-rstan-1" class="anchor"></a>Install Rstan</h2>
<p>Just in case you previously tried to install Rstan without success, run the following code to clean installations and configuration files.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/remove.packages.html">remove.packages</a></span><span class="op">(</span><span class="st">"rstan"</span><span class="op">)</span>
<span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/files.html">file.exists</a></span><span class="op">(</span><span class="st">".RData"</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/files.html">file.remove</a></span><span class="op">(</span><span class="st">".RData"</span><span class="op">)</span></code></pre></div>
<p>Restart R.</p>
<p>Then just run:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"rstan"</span>, repos <span class="op">=</span> <span class="st">"https://cloud.r-project.org/"</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p>Now, verify the installation by running:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/example.html">example</a></span><span class="op">(</span><span class="va">stan_model</span>, package <span class="op">=</span> <span class="st">"rstan"</span>, run.dontrun <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p>If the model compiles and starts sampling, you are set. In case you get the following warning, it is safe to ignore it.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Warning message:</span>
<span class="co"># In system(paste(CXX, ARGS), ignore.stdout = TRUE, ignore.stderr = TRUE) :</span>
<span class="co">#  'C:/rtools40/usr/mingw_/bin/g++' not found</span></code></pre></div>
</div>
<div id="install-brms-1" class="section level2">
<h2 class="hasAnchor">
<a href="#install-brms-1" class="anchor"></a>Install brms</h2>
<p>Install brms from CRAN simply with:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"brms"</span><span class="op">)</span></code></pre></div>
<p>The end.</p>
</div>
</div>
<div id="linux" class="section level1">
<h1 class="hasAnchor">
<a href="#linux" class="anchor"></a>Linux</h1>
<div id="install-rstan-and-configure-the-c-toolchain" class="section level2">
<h2 class="hasAnchor">
<a href="#install-rstan-and-configure-the-c-toolchain" class="anchor"></a>Install Rstan and configure the C++ toolchain</h2>
<p>On Linux, you have the option to install a pre-built Rstan binary or to build it from source.</p>
<p>If you decide to install the <strong>pre-built binary</strong>, follow the instructions here: <a href="https://github.com/stan-dev/rstan/wiki/Configuring-C-Toolchain-for-Linux" class="uri">https://github.com/stan-dev/rstan/wiki/Configuring-C-Toolchain-for-Linux</a>, and you will have Rstan.</p>
<p>If you would rather <strong>build it from source</strong>, then:</p>
<ul>
<li>follow the instructions here (as above): <a href="https://github.com/stan-dev/rstan/wiki/Configuring-C-Toolchain-for-Linux" class="uri">https://github.com/stan-dev/rstan/wiki/Configuring-C-Toolchain-for-Linux</a>- and then build from source by following the instructions here: <a href="https://github.com/stan-dev/rstan/wiki/Installing-RStan-from-Source#linux" class="uri">https://github.com/stan-dev/rstan/wiki/Installing-RStan-from-Source#linux</a>
</li>
</ul>
</div>
<div id="install-brms-2" class="section level2">
<h2 class="hasAnchor">
<a href="#install-brms-2" class="anchor"></a>Install brms</h2>
<p>Install brms from CRAN simply with:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"brms"</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div class="footnotes">
<hr>
<ol>
<li id="fn1"><p>brms is <em>very</em> flexible, but if you need to fit highly customised models (e.g., …), then learning Stan is recommended. It is possible to get the Stan code from the brms syntax and modify it to your liking before running it, all from within R.<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by The package maintainer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
